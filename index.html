<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>瞬間英作文</title>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
    <link rel="stylesheet" href="">
    <link rel="shortcut icon" href="">
    <link href="https://fonts.googleapis.com/earlyaccess/kokoro.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/earlyaccess/nicomoji.css" rel="stylesheet">
    <audio id="sound-file-ok" preload="auto">
        <source src="https://soundeffect-lab.info/sound/anime/mp3/correct1.mp3" type="audio/mp3">
    </audio>
    <audio id="sound-file-ng" preload="auto">
        <source src="https://soundeffect-lab.info/sound/anime/mp3/incorrect1.mp3" type="audio/mp3">
    </audio>
    <style type="text/css">
        body {
            text-align: center;
            /* font-family: "Nico Moji"; */
        }

        #title {
            color: #0051ff;
            font-size: 8vw;
            margin: 5px;
        }

        #question {
            color: rgb(3, 39, 243);
        }

        #answer {
            width: 30vw;
            height: 30px;
            text-align: center;
        }

        #btn {
            width: 30vw;
            height: 30px;
            display: inline-block;
            padding: 0.5em 1em;
            text-decoration: none;
            background: #668ad8;
            /*ボタン色*/
            color: #FFF;
            border-bottom: solid 4px #627295;
            border-radius: 3px;
        }

        #btn:active {
            /*ボタンを押したとき*/
            -webkit-transform: translateY(4px);
            transform: translateY(4px);
            /*下に動く*/
            box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.2);
            /*影を小さく*/
            border-bottom: none;
        }

        @media screen and (min-width: 767px) {
            /*PC用*/
        }

        @media screen and (max-width: 767px) {
            /*タブレット用*/
        }

        @media screen and (max-width: 479px) {
            /*スマホ用*/
        }
    </style>
    <script type="text/javascript">

        var json = [
            {
                "question": "恐れ入りますが、年齢を教えてください。",
                "answer": "May I ask, how old are you?"
            },
            {
                "question": "ちょっと思ったんだけど、...",
                "answer": "I was wondering, ..."
            },
            {

                "question": "...について",

                "answer": "Regarding to ..."

            },

            {

                "question": "...はどうですか？",

                "answer": "How about"

            },

            {

                "question": "...頂ければ幸いです。",

                "answer": "It would be appreciated ..."

            },

            {

                "question": "Aを2021/03/31に変更してください。",

                "answer": "Kindly shift A to March 31st, 2021."

            },

            {

                "question": "以下の情報を御覧ください。",

                "answer": "Please kindly find the information below;"

            },

            {

                "question": "了解しました。(依頼を承諾する時)",

                "answer": "You got it."

            },

            {

                "question": "以下の質問は如何でしょうか。",

                "answer": "How about below question?"

            },

            {

                "question": "謝罪します。",

                "answer": "I apologize."

            },

            {

                "question": "あなたの質問への答えになっていますか？",

                "answer": "Does this answer your question?"

            },

            {

                "question": "英語で書いてすみません。",

                "answer": "Sorry writing in English."

            },

            {

                "question": "確認して連絡します。",

                "answer": "I will investigate and inform you."

            },

            {

                "question": "一方で、",

                "answer": "On the other hand,"

            },

            {

                "question": "その場合、",

                "answer": "In the case,"

            },

            {

                "question": "打ち合わせメモです。",

                "answer": "Here is a meeting memo."

            },

            {

                "question": "まずは、",

                "answer": "First and foremost,"

            },

            {

                "question": "どういたしまして。",

                "answer": "Don't mention that."

            },

            {

                "question": "続けてください。",

                "answer": "Please go a head."

            },

            {

                "question": "ご不明点があれば連絡してください。",

                "answer": "If you confirmation, please let us know."

            },

            {

                "question": "以下の変更をお願い致します。",

                "answer": "Could you please make the following change?"

            },

            {

                "question": "したがって/その為",

                "answer": "Therefore,"

            },

            {

                "question": "私は英語が苦手です。",

                "answer": "I'm not good at english language."

            },

            {

                "question": "お手数をお掛け致しますが、よろしくお願い致します。",

                "answer": "I'm sorry for incovenience. Thank you for your cooperation."

            },

            {

                "question": "DBのある地域はシンガポールですか？",

                "answer": "Is the region with DB in Singapore?"

            },

            {

                "question": "一方で必要な情報は以下の通りです。",

                "answer": "Meanshile, please find flowing required information."

            },

            {

                "question": "ご確認頂きありがとうございます。",

                "answer": "Thank you for your confirmation."

            },

            {

                "question": "確認します。",

                "answer": "Let me confirm."

            },

            {

                "question": "教えて頂きありがとうございます。",

                "answer": "Thank you for letting me know."

            },

            {

                "question": "迅速なご返信ありがとうございます。",

                "answer": "I appreciate your quick respnce."

            },

            {

                "question": "時間が掛かりますか？",

                "answer": "Does it take do me a little favor?"

            },

            {

                "question": "最悪",

                "answer": "What's next?"

            },

            {

                "question": "私は休暇中です。",

                "answer": "I am on leace."

            },

            {

                "question": "調査中",

                "answer": "Under investingation"

            },

            {

                "question": "経由",

                "answer": "via"

            },

            {

                "question": "解決",

                "answer": "resolve"

            },

            {

                "question": "...の様です。",

                "answer": "It seems ..."

            },

            {

                "question": "念の為申し上げますと、",

                "answer": "Just to be clear,"

            },

            {

                "question": "指摘した部分を修正しました。",

                "answer": "I corrected the pointed outpart."

            },

            {

                "question": "コメントをいくつか追加しましたので確認してください。",

                "answer": "I added few comments, please check it."

            }
        ]


        //回答確認メソッド
        function check(value) {
            const answer = document.getElementById("answer").value;

            if (answer.toUpperCase() === value.toUpperCase()) {
                document.getElementById('sound-file-ok').play();
                document.getElementById('result').innerText = 'GOOD';
            } else {
                document.getElementById('sound-file-ng').play();
                document.getElementById('result').innerHTML = 'BAD' + '</br>' + value;
                //1秒後に回答を読み上げる
                setTimeout(
                    function () {
                        voice(value);
                    },
                    "1000"
                );
            }
        }

        //問題変更メソッド
        function change() {

            //結果初期化
            document.getElementById('result').innerText = '';

            //JSON数からランダムな配列番号を取得する
            var arrayIndex = Math.floor(Math.random() * json.length);
            var questionword = json[arrayIndex].question;
            var answerword = json[arrayIndex].answer;
            var element = document.getElementById('questions');
            element.innerHTML = questionword + '</br><input type="text" id="answer" value="" maxlength="100" /></br>';
            var elem = document.getElementById("btn_check");
            elem.innerHTML = '<p id="btn"' + '" onclick="check(\'' + answerword + '\')"> check </p>';
        }

        //文字列読み上げメソッド
        function voice(message) {
            const synthes = new SpeechSynthesisUtterance();
            synthes.voiceURI = 'native';
            synthes.volume = 1;
            synthes.rate = 1;
            synthes.pitch = 2;
            synthes.text = message;
            synthes.lang = 'en-US';
            speechSynthesis.speak(synthes);
        }
    </script>
</head>

<body>
    <h1 id="title">瞬間英作文</h1>
    <p id="btn" onclick="change()">question</p>
    <p id="questions"></p>
    <p id="btn_check"></p>
    <p id="result"></p>
</body>

</html>